# Tree Model Analysis Report

**Generated**: {{ timestamp }}
**Model Type**: {{ model_type }}
**Task**: {{ task }}

---

## Executive Summary

This report presents the analysis of a {{ model_type }} model trained for {{ task }}.
{{ summary_statement }}

---

## Data Overview

| Metric | Value |
|--------|-------|
| Total Samples | {{ n_samples }} |
| Training Samples | {{ n_train }} |
| Test Samples | {{ n_test }} |
| Number of Features | {{ n_features }} |
| Target Variable | {{ target_name }} |

### Target Distribution

{{ target_distribution }}

---

## Model Configuration

### Hyperparameters

{{ hyperparameters_table }}

### DDML Mode

{{ ddml_mode_status }}

---

## Model Performance

### Test Set Metrics

{{ metrics_table }}

### Cross-Validation Results

| Fold | {{ metric_name }} |
|------|----------|
{{ cv_results }}

**Mean CV {{ metric_name }}**: {{ cv_mean }} (+/- {{ cv_std }})

---

## Feature Importance Analysis

### Top 20 Features

{{ feature_importance_table }}

### Importance Method Comparison

{{ importance_comparison_table }}

### Correlation-Adjusted Importance

Features with high correlation may have importance split between them:

{{ correlation_warnings }}

---

## Partial Dependence Analysis

### Key Feature Effects

{{ pdp_descriptions }}

---

## SHAP Analysis

### Global Feature Importance (SHAP)

{{ shap_importance_table }}

### Key Insights

{{ shap_insights }}

---

## Model Diagnostics

### Overfitting Check

| Metric | Train | Test | Gap |
|--------|-------|------|-----|
{{ overfitting_table }}

### Residual Analysis

{{ residual_analysis }}

---

## DDML Application Notes

### For Nuisance Function Estimation

This model {{ ddml_suitability }}

**Recommended usage**:
{{ ddml_recommendations }}

### Cross-Fitting Considerations

{{ cross_fitting_notes }}

### Propensity Score Quality (if applicable)

{{ propensity_quality }}

---

## Recommendations

### Model Improvements

{{ model_recommendations }}

### Feature Engineering

{{ feature_recommendations }}

### DDML-Specific

{{ ddml_specific_recommendations }}

---

## Appendix

### Full Feature List

{{ feature_list }}

### Model Serialization

Model saved to: `{{ model_path }}`

Load with:
```python
import joblib
model = joblib.load('{{ model_path }}')
```

---

## References

- Chernozhukov, V., et al. (2018). Double/debiased machine learning for treatment and structural parameters.
- Lundberg, S. M., & Lee, S. I. (2017). A unified approach to interpreting model predictions.
- Chen, T., & Guestrin, C. (2016). XGBoost: A scalable tree boosting system.

---

*Report generated by ml-model-tree skill*
